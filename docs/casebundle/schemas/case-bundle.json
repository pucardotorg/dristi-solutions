{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "http://dristi.pucar.org/schemas/case-bundle.json",
  "$comment": "definition of the schema for Case Bundle",
  "$version": "1.0",
  "name": "case-bundle-pdf",

  "tenantId": "KL",
  "caseID": {
    "type": "string",
    "format": "uuid",
    "description": "the primary key of the case"
  },
  "pdfCreatedDate" : {
    "type": "double",
    "description": "Date the last time the case bundle PDF was created. Stored in EPOCH date time"
  },
  "fileStoreId" : {
    "type": "string",
    "format": "uuid",
    "description": "file store ID of the PDF bundle created. Use this to directly show anywhere if a newer version does not need to be created"
  },
  "contentLastModified" : {
    "type": "double",
    "description": "Date the last time the case bundle index was updated. Stored in EPOCH date time. If updatedDate is greater than pdfCreatedDate, then new PDF needs to be generated, use the bundle section below to create the PDF"
  },
  "bundle" : {
    "description": "bundle consists of sections, within each section it can multiple entries with (all entries created by litigant or advocate) or without cover note, chronologically arranged with earliest entry first. PRD - https://docs.google.com/document/d/1YQlB5ubGhSye3XktGU4INLLByGLkcRaW_JlLChLFlLM/edit",
    "example": "https://docs.google.com/document/d/1G0Bo3PortRQrm3Y7k854IvCNhuqvq6AQU8FLpSf8_Qk/edit",
    "section": {
      "name": {
        "type": "string",
        "description": "name of the section, case title, a Dairy, complaint PDF etc. this is only for easy understanding of what this section is about",
        "example": "titlepage"
      },
      "items": {
        "item": {
          "type": {
            "enum": ["complaint", "affidavit", "application", "order", "task", "objection",  "evidence", "notes"]
          },
          "createPDF": {
            "type": "boolean",
            "description": "true means need to create the PDF and use it. false (default) means PDF is available and just need to use it. use fileStoreId for it. "
          },
          "sourceId": {
            "type": "string",
            "format": "uuid",
            "description": "file store ID of  original file, so that we don't duplicate"
          },
          "fileStoreId": {
            "type": "string",
            "format": "uuid",
            "description": "file store ID of the PDF created. Use this to directly include in the bundle"
          },
          "sortParam": {
            "type":  "string",
            "description": "parameter on which individual items will be sorted, could be EPOCH, could be cmpNumber, could be just specific sequence number"
          }
        }
      }
    },
    "section": {
      "name": "adiary",
      "items": {
        "item": {
          "item": {
            "type": {
              "enum": ["complaint", "affidavit", "application", "order", "task", "objection",  "evidence", "notes"]
            },
            "createPDF": {
              "type": "boolean"
            },
            "sourceId": {
              "type": "string",
              "format": "uuid"
            },
            "fileStoreId": {
              "type": "string",
              "format": "uuid"
            },
            "sortParam": {
              "type":  "string"
            }
          }
        }
      }
    },
    "section": {
      "name": "pendingapplications",
      "items": {
        "item": {
          "type":  "application",
          "createPDF": {
            "type": "boolean"
          },
          "sourceId": {
            "type": "string",
            "format": "uuid"
          },
          "fileStoreId": {
            "type": "string",
            "format": "uuid"
          },
          "sortParam": {
            "type":  "string"
          }
        },
        "item": {
          "type":  "objection",
          "createPDF": {
            "type": "boolean"
          },
          "sourceId": {
            "type": "string",
            "format": "uuid"
          },
          "fileStoreId": {
            "type": "string",
            "format": "uuid"
          },
          "sortParam": {
            "type":  "string"
          }
        }
      }
    },
    "section": {
      "name": "complaint",
      "items": {
      }
    },
    "section": {
      "name": "affidavit",
      "items": {
      }
    },
    "section": {
      "name": "vakalat",
      "items": {
      }
    },
    "section": {
      "name": "witnessschedule",
      "items": {
      }
    },
    "section": {
      "name": "documents",
      "items": {
      }
    },
    "section": {
      "name": "complainantevidence",
      "items": {
      }
    },
    "section": {
      "name": "313",
      "items": {
      }
    },
    "section": {
      "name": "accusedstatement",
      "items": {
      }
    },
    "section": {
      "name": "accusedevidence",
      "items": {
      }
    },
    "section": {
      "name": "courtevidence",
      "items": {
      }
    },
    "section": {
      "name": "courtnotes",
      "items": {
      }
    },
    "section": {
      "name": "complainantnotes",
      "items": {
      }
    },
    "section": {
      "name": "accusednotes",
      "items": {
      }
    },
    "section": {
      "name": "applications",
      "items": {
      }
    },
    "section": {
      "name": "baildocument",
      "items": {
      }
    },
    "section": {
      "name": "memos",
      "items": {
      }
    },
    "section": {
      "name": "processes",
      "items": {
      }
    },
    "section": {
      "name": "paymentreceipts",
      "items": {
      }
    },
    "section": {
      "name": "orders",
      "items": {
      }
    }
  }
}