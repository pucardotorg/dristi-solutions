openapi: 3.0.0

info:
  title: Application Service API
  description: |
    DRISTI Application Service responsible for creation,
    update, search and workflow operations for court applications.
  version: 1.0.0

servers:
  - url: /application-services/v1
    description: Application Service Base Path

tags:
  - name: Application
    description: Application lifecycle APIs

security:
  - bearerAuth: []

paths:

  /_create:
    post:
      tags: [Application]
      summary: Create application
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationRequest'
            example:
              requestInfo:
                apiId: Rainmaker
                authToken: <AUTH_TOKEN>
              application:
                tenantId: kl
                caseId: 2f6fe4ae-352f-420d-b243-679191b4ba01
                applicationType: BAIL
                status: DRAFT
                isActive: true
      responses:
        '200':
          description: Application created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationResponse'

  /_update:
    post:
      tags: [Application]
      summary: Update application
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationRequest'
            example:
              requestInfo:
                apiId: Rainmaker
              application:
                id: 9b2d5c52-bc2f-4d92-8e39-1e94c6e50c41
                tenantId: kl
                status: SUBMITTED
      responses:
        '200':
          description: Application updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationResponse'

  /_search:
    post:
      tags: [Application]
      summary: Search applications
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationSearchRequest'
            example:
              requestInfo:
                apiId: Rainmaker
              criteria:
                caseId: 2f6fe4ae-352f-420d-b243-679191b4ba01
                tenantId: kl
              pagination:
                limit: 10
                offset: 0
      responses:
        '200':
          description: Application search results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationSearchResponse'

  /_exists:
    post:
      tags: [Application]
      summary: Check if application exists
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApplicationExistsRequest'
            example:
              requestInfo:
                apiId: Rainmaker
              applicationNumber: APP-2024-000123
      responses:
        '200':
          description: Application existence result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApplicationExistsResponse'

  /_addcomment:
